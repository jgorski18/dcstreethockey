<head>
	<style type="text/css" media="screen">

		table{
			border-collapse: collapse;
			border: 1px solid #FF0000;
			vertical-align: top;
			display: inline-block;
			empty-cells: show;
			width: 100%;
		}
		table caption{
			text-align: left
		}

		table tr{
			border:1px solid #FF0000;/
			empty-cells: show
			white-space: nowrap;
		}
		table th{
			border:1px solid #FF0000;
			font-weight: bold;
			width: 20%;
			white-space: nowrap;
		}
		table td{
			border: 1px solid #FF0000;/
			border-collapse: collapse;
			display: table-cell;
			empty-cells: show;
			text-align: center;
			white-space: nowrap;
		}
		/*.inlineTable {
            display: inline-block;
        }*/
	</style>
</head>
{% extends 'core/base.html' %}
{% load static %}
{% block content %}
<div id="content-wrapper">
	<div id="content">
        <div align="center">
            <form name="dateselect">
                <select name="dates" onchange="javascript:handleSelect(this)">
                    <option value="">Pick a date</option>
                    {% for day in game_days %}
                    <option value="/leagues/schedule/{{day.month}}/{{day.day}}/{{day.year}}">{{day.date}}</option>
                    {% endfor %}
                </select>
            </form>
        </div>
		<div class="container">
		{% for day in schedule %}
			<section>
				<div class="row">
                    {% for division in divisions %}
					<div class="4u 12u(mobile)">
						<table>
                            <caption>{{division}} {{day.week.date}}</caption>
							<tr>
					    		<th>Away Team</th>
					    		<th>Home Team</th>
					    		<th>Game Time</th>
					    	</tr>
							{% for match in matchups %}
							{% if match.week.date == day.week.date and match.week.division == division %}
                            <tr onclick="javascript:toggleTable({{match.id}})">
					    		<th>{{match.awayteam.team_name}}</th>
					    		<th>{{match.hometeam.team_name}}</th>
					    		<th>{{match.time}}</th>
					    	</tr>
					    	{% endif %}
							{% endfor %}
						</table>
						{% for match in matchups %}
						{% if match.week.date == day.week.date and match.week.division == division %}
                        <table id="home{{match.id}}" style="display:none">
                        <caption>Home Stats: {{match.hometeam.team_name}}</caption>
                        <tr>
                            <th>Player</th>
							<th>Goals</th>
					    	<th>Assists</th>
					    </tr>
					    {% for stat in stats %}
					    {% if match.id == stat.matchup.id and match.hometeam == stat.team %}
					   	<tr>
					   		<th>{{stat.player}}</th>
					   		<th>{{stat.goals}}</th>
					   		<th>{{stat.assists}}</th>
                        </tr>
					   	{% endif %}
						{% endfor %}
                    </table>
					{% endif %}
                    {% endfor %}
					{% for match in matchups %}
					{% if match.week.date == day.week.date and match.week.division == division %}
                    <table id="away{{match.id}}" style="display:none">
                        <caption>Away Stats: {{match.awayteam.team_name}}</caption>
                        <tr>
                            <th>Player</th>
					  		<th>Goals</th>
					   		<th>Assists</th>
					   	</tr>
					    {% for stat in stats %}
					    {% if match.id == stat.matchup.id and match.awayteam == stat.team %}
				    	<tr>
				    		<th>{{stat.player}}</th>
				    		<th>{{stat.goals}}</th>
				    		<th>{{stat.assists}}</th>
                        </tr>
				    	{% endif %}
						{% endfor %}
                    </table>
					{% endif %}
					{% endfor %}
					</div>
	                {% endfor %}
                </div>
			</section>
		{% endfor %}

		</div>
	</div>
</div>
<script type="text/javascript">
    function toggleTable(id) {
        var lTable = document.getElementById("home"+id);
        lTable.style.display = (lTable.style.display == "table") ? "none" : "table";
        var lTable = document.getElementById("away"+id);
        lTable.style.display = (lTable.style.display == "table") ? "none" : "table";
    }
</script>
                <script type="text/javascript">
                    function handleSelect(elm)
                    {
                    window.location = elm.value;
                    }
                </script>
{% endblock %}
